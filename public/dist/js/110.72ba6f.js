/*! For license information please see 110.72ba6f.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{4:function(t,r,e){"use strict";var o=e(7),s=e.n(o),n=Object.defineProperty,a=Object.prototype.hasOwnProperty,i=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,l=(t,r,e)=>r in t?n(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,u=(t,r)=>{for(var e in r||(r={}))a.call(r,e)&&l(t,e,r[e]);if(i)for(var e of i(r))c.call(r,e)&&l(t,e,r[e]);return t};const f=t=>void 0===t,d=t=>Array.isArray(t),m=t=>t&&"number"==typeof t.size&&"string"==typeof t.type&&"function"==typeof t.slice,h=(t,r,e,o)=>((r=r||{}).indices=!f(r.indices)&&r.indices,r.nullsAsUndefineds=!f(r.nullsAsUndefineds)&&r.nullsAsUndefineds,r.booleansAsIntegers=!f(r.booleansAsIntegers)&&r.booleansAsIntegers,r.allowEmptyArrays=!f(r.allowEmptyArrays)&&r.allowEmptyArrays,e=e||new FormData,f(t)||(null===t?r.nullsAsUndefineds||e.append(o,""):(t=>"boolean"==typeof t)(t)?r.booleansAsIntegers?e.append(o,t?1:0):e.append(o,t):d(t)?t.length?t.forEach((t,s)=>{const n=o+"["+(r.indices?s:"")+"]";h(t,r,e,n)}):r.allowEmptyArrays&&e.append(o+"[]",""):(t=>t instanceof Date)(t)?e.append(o,t.toISOString()):!(t=>t===Object(t))(t)||(t=>m(t)&&"string"==typeof t.name&&("object"==typeof t.lastModifiedDate||"number"==typeof t.lastModified))(t)||m(t)?e.append(o,t):Object.keys(t).forEach(s=>{const n=t[s];if(d(n))for(;s.length>2&&s.lastIndexOf("[]")===s.length-2;)s=s.substring(0,s.length-2);h(n,r,e,o?o+"["+s+"]":s)})),e);var p={serialize:h};function v(t){if(null===t||"object"!=typeof t)return t;const r=Array.isArray(t)?[]:{};return Object.keys(t).forEach(e=>{r[e]=v(t[e])}),r}function y(t){return Array.isArray(t)?t:[t]}class g{constructor(){this.errors={},this.errors={}}set(t,r){"object"==typeof t?this.errors=t:this.set(u(u({},this.errors),{[t]:y(r)}))}all(){return this.errors}has(t){return Object.prototype.hasOwnProperty.call(this.errors,t)}hasAny(...t){return t.some(t=>this.has(t))}any(){return Object.keys(this.errors).length>0}get(t){if(this.has(t))return this.getAll(t)[0]}getAll(t){return y(this.errors[t]||[])}only(...t){const r=[];return t.forEach(t=>{const e=this.get(t);e&&r.push(e)}),r}flatten(){return Object.values(this.errors).reduce((t,r)=>t.concat(r),[])}clear(t){const r={};t&&Object.keys(this.errors).forEach(e=>{e!==t&&(r[e]=this.errors[e])}),this.set(r)}}class w{constructor(t={}){this.originalData={},this.busy=!1,this.successful=!1,this.recentlySuccessful=!1,this.recentlySuccessfulTimeoutId=void 0,this.errors=new g,this.progress=void 0,this.update(t)}static make(t){return new this(t)}update(t){this.originalData=Object.assign({},this.originalData,v(t)),Object.assign(this,t)}fill(t={}){this.keys().forEach(r=>{this[r]=t[r]})}data(){return this.keys().reduce((t,r)=>u(u({},t),{[r]:this[r]}),{})}keys(){return Object.keys(this).filter(t=>!w.ignore.includes(t))}startProcessing(){this.errors.clear(),this.busy=!0,this.successful=!1,this.progress=void 0,this.recentlySuccessful=!1,clearTimeout(this.recentlySuccessfulTimeoutId)}finishProcessing(){this.busy=!1,this.successful=!0,this.progress=void 0,this.recentlySuccessful=!0,this.recentlySuccessfulTimeoutId=setTimeout(()=>{this.recentlySuccessful=!1},w.recentlySuccessfulTimeout)}clear(){this.errors.clear(),this.successful=!1,this.recentlySuccessful=!1,this.progress=void 0,clearTimeout(this.recentlySuccessfulTimeoutId)}reset(){Object.keys(this).filter(t=>!w.ignore.includes(t)).forEach(t=>{this[t]=v(this.originalData[t])})}get(t,r={}){return this.submit("get",t,r)}post(t,r={}){return this.submit("post",t,r)}patch(t,r={}){return this.submit("patch",t,r)}put(t,r={}){return this.submit("put",t,r)}delete(t,r={}){return this.submit("delete",t,r)}submit(t,r,e={}){return this.startProcessing(),e=u({data:{},params:{},url:this.route(r),method:t,onUploadProgress:this.handleUploadProgress.bind(this)},e),"get"===t.toLowerCase()?e.params=u(u({},this.data()),e.params):(e.data=u(u({},this.data()),e.data),function t(r){return r instanceof File||r instanceof Blob||r instanceof FileList||"object"==typeof r&&null!==r&&void 0!==Object.values(r).find(r=>t(r))}(e.data)&&!e.transformRequest&&(e.transformRequest=[t=>p.serialize(t)])),new Promise((t,r)=>{(w.axios||s.a).request(e).then(r=>{this.finishProcessing(),t(r)}).catch(t=>{this.handleErrors(t),r(t)})})}handleErrors(t){this.busy=!1,this.progress=void 0,t.response&&this.errors.set(this.extractErrors(t.response))}extractErrors(t){return t.data&&"object"==typeof t.data?t.data.errors?u({},t.data.errors):t.data.message?{error:t.data.message}:u({},t.data):{error:w.errorMessage}}handleUploadProgress(t){this.progress={total:t.total,loaded:t.loaded,percentage:Math.round(100*t.loaded/t.total)}}route(t,r={}){let e=t;return Object.prototype.hasOwnProperty.call(w.routes,t)&&(e=decodeURI(w.routes[t])),"object"!=typeof r&&(r={id:r}),Object.keys(r).forEach(t=>{e=e.replace(`{${t}}`,r[t])}),e}onKeydown(t){const r=t.target;r.name&&this.errors.clear(r.name)}}w.routes={},w.errorMessage="Something went wrong. Please try again.",w.recentlySuccessfulTimeout=2e3,w.ignore=["busy","successful","errors","progress","originalData","recentlySuccessful","recentlySuccessfulTimeoutId"],r.a=w},439:function(t,r,e){"use strict";e.r(r);var o=e(4);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(){n=function(){return t};var t={},r=Object.prototype,e=r.hasOwnProperty,o=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(t){u=function(t,r,e){return t[r]=e}}function f(t,r,e,s){var n=r&&r.prototype instanceof h?r:h,a=Object.create(n.prototype),i=new j(s||[]);return o(a,"_invoke",{value:x(t,e,i)}),a}function d(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var m={};function h(){}function p(){}function v(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(L([])));w&&w!==r&&e.call(w,i)&&(y=w);var b=v.prototype=h.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function P(t,r){var n;o(this,"_invoke",{value:function(o,a){function i(){return new r((function(n,i){!function o(n,a,i,c){var l=d(t[n],t,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==s(f)&&e.call(f,"__await")?r.resolve(f.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):r.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return o("throw",t,i,c)}))}c(l.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}})}function x(t,r,e){var o="suspendedStart";return function(s,n){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===s)throw n;return S()}for(e.method=s,e.arg=n;;){var a=e.delegate;if(a){var i=C(a,e);if(i){if(i===m)continue;return i}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===o)throw o="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o="executing";var c=d(t,r,e);if("normal"===c.type){if(o=e.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o="completed",e.method="throw",e.arg=c.arg)}}}function C(t,r){var e=r.method,o=t.iterator[e];if(void 0===o)return r.delegate=null,"throw"===e&&t.iterator.return&&(r.method="return",r.arg=void 0,C(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),m;var s=d(o,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,m;var n=s.arg;return n?n.done?(r[t.resultName]=n.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,m):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function E(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function O(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=void 0,r.done=!0,r};return s.next=s}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=v,o(b,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(P.prototype),u(P.prototype,c,(function(){return this})),t.AsyncIterator=P,t.async=function(r,e,o,s,n){void 0===n&&(n=Promise);var a=new P(f(r,e,o,s),n);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var r=Object(t),e=[];for(var o in r)e.push(o);return e.reverse(),function t(){for(;e.length;){var o=e.pop();if(o in r)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(e,o){return a.type="throw",a.arg=t,r.next=e,o&&(r.method="next",r.arg=void 0),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var n=this.tryEntries[s],a=n.completion;if("root"===n.tryLoc)return o("end");if(n.tryLoc<=this.prev){var i=e.call(n,"catchLoc"),c=e.call(n,"finallyLoc");if(i&&c){if(this.prev<n.catchLoc)return o(n.catchLoc,!0);if(this.prev<n.finallyLoc)return o(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return o(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return o(n.finallyLoc)}}}},abrupt:function(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.tryLoc<=this.prev&&e.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var n=s;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=r&&r<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=t,a.arg=r,n?(this.method="next",this.next=n.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var o=e.completion;if("throw"===o.type){var s=o.arg;O(e)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:L(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),m}},t}function a(t,r,e,o,s,n,a){try{var i=t[n](a),c=i.value}catch(t){return void e(t)}i.done?r(c):Promise.resolve(c).then(o,s)}function i(t){return function(){var r=this,e=arguments;return new Promise((function(o,s){var n=t.apply(r,e);function i(t){a(n,o,s,i,c,"next",t)}function c(t){a(n,o,s,i,c,"throw",t)}i(void 0)}))}}var c={middleware:"auth",metaInfo:function(){return{title:this.$t("user_profile.page_title")}},data:function(){return{breadcrumbsCurrent:"user_profile.breadcrumbs_current",breadcrumbs:[{name:"user_profile.breadcrumbs_first",url:"home"},{name:"user_profile.breadcrumbs_active",url:""}],form:new o.a({name:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),loading:!0,user:""}},created:function(){this.getUser()},methods:{getUser:function(){var t=this;return i(n().mark((function r(){var e,o;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.form.get(window.location.origin+"/api/user");case 2:e=r.sent,o=e.data,t.user=o.data,t.form.name=o.data.name,t.form.email=o.data.email;case 7:case"end":return r.stop()}}),r)})))()},updateProfile:function(){var t=this;return i(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.form.post(window.location.origin+"/api/update-profile").then((function(r){toast.fire({type:"success",title:t.$t("user_profile.success_msg")})})).catch((function(){toast.fire({type:"error",title:t.$t("common.error_msg")})}));case 2:case"end":return r.stop()}}),r)})))()}}},l=e(1),u=Object(l.a)(c,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("breadcrumbs",{attrs:{items:t.breadcrumbs,current:t.breadcrumbsCurrent}}),t._v(" "),e("div",{staticClass:"row"},[t.user?e("div",{staticClass:"col-md-12 col-lg-3"},[e("div",{staticClass:"card card-primary card-outline"},[e("div",{staticClass:"card-body box-profile"},[e("div",{staticClass:"text-center"},[e("img",{staticClass:"profile-user-img img-fluid img-circle",attrs:{src:t.user.photo_url,alt:t.$t("common.image_alt")}})]),t._v(" "),e("h3",{staticClass:"profile-username text-center"},[t._v(t._s(t.user.name))]),t._v(" "),e("p",{staticClass:"text-muted text-center"},[t._v(t._s(t.user.roles[0]))])])])]):t._e(),t._v(" "),e("div",{staticClass:"col-md-12 col-lg-9"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("user_profile.form_title")))]),t._v(" "),e("router-link",{staticClass:"btn btn-dark float-right",attrs:{to:{name:"home"}}},[e("i",{staticClass:"fas fa-long-arrow-alt-left"}),t._v(" "+t._s(t.$t("common.back"))+"\n          ")])],1),t._v(" "),e("div",{staticClass:"card-body"},[e("form",{staticClass:"form-horizontal",on:{submit:function(r){return r.preventDefault(),t.updateProfile.apply(null,arguments)},keydown:function(r){return t.form.onKeydown(r)}}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("common.name"))+"\n                "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{type:"text",id:"name",placeholder:t.$t("common.name_placeholder")},domProps:{value:t.form.name},on:{input:function(r){r.target.composing||t.$set(t.form,"name",r.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"name"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"email"}},[t._v(t._s(t.$t("common.email"))+"\n                "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("email")},attrs:{type:"email",id:"email",placeholder:t.$t("common.email_placeholder")},domProps:{value:t.form.email},on:{input:function(r){r.target.composing||t.$set(t.form,"email",r.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"email"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"currentPassword"}},[t._v(t._s(t.$t("user_profile.current_password")))]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.currentPassword,expression:"form.currentPassword"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("currentPassword")},attrs:{type:"password",id:"currentPassword",placeholder:t.$t("user_profile.current_password")},domProps:{value:t.form.currentPassword},on:{input:function(r){r.target.composing||t.$set(t.form,"currentPassword",r.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"currentPassword"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newPassword"}},[t._v(t._s(t.$t("user_profile.new_password")))]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.newPassword,expression:"form.newPassword"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("newPassword")},attrs:{type:"password",id:"newPassword",placeholder:t.$t("user_profile.new_password_placeholder")},domProps:{value:t.form.newPassword},on:{input:function(r){r.target.composing||t.$set(t.form,"newPassword",r.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"newPassword"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"confirmPassword"}},[t._v(t._s(t.$t("user_profile.confirm_password")))]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.confirmPassword,expression:"form.confirmPassword"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("confirmPassword")},attrs:{type:"password",id:"confirmPassword",placeholder:t.$t("user_profile.confirm_password_placeholder")},domProps:{value:t.form.confirmPassword},on:{input:function(r){r.target.composing||t.$set(t.form,"confirmPassword",r.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"confirmPassword"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"offset-sm-2 col-sm-10"},[e("v-button",{staticClass:"btn btn-primary",attrs:{loading:t.form.busy}},[e("i",{staticClass:"fas fa-edit"}),t._v(" "+t._s(t.$t("common.save_changes"))+"\n                ")])],1)])])])])])])],1)}),[],!1,null,"288e51a0",null);r.default=u.exports}}]);